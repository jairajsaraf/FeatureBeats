# FeatureBeats

A comprehensive music analysis and machine learning project using Spotify's dataset of 169k songs from 1921-2020.

## Dataset

This project uses the [Spotify Dataset (1921-2020)](https://www.kaggle.com/datasets/ektanegi/spotifydata-19212020) from Kaggle.

### Dataset Overview

- **Size**: 169,000+ songs
- **Time Range**: 1921-2020
- **Content**: Top 100 songs per year
- **Source**: Spotify Web API

### Features

#### Primary Identifier
- `id`: Unique track ID generated by Spotify

#### Numerical Features (0-1 range)
- `acousticness`: Acoustic quality of the track
- `danceability`: How suitable the track is for dancing
- `energy`: Measure of intensity and activity
- `instrumentalness`: Predicts if track contains no vocals
- `liveness`: Presence of audience in the recording
- `speechiness`: Presence of spoken words
- `valence`: Musical positiveness/happiness conveyed

#### Other Numerical Features
- `duration_ms`: Track duration in milliseconds (typically 200k-300k)
- `popularity`: Popularity score (0-100)
- `tempo`: Estimated tempo in BPM (typically 50-150)
- `loudness`: Overall loudness in dB (typically -60 to 0)
- `year`: Release year (1921-2020)

#### Categorical Features
- `key`: Musical key (0-11, where 0=C, 1=C#, ..., 11=B)
- `mode`: Musical mode (0=Minor, 1=Major)
- `explicit`: Explicit content flag (0=No, 1=Yes)
- `artists`: List of artists
- `release_date`: Release date (yyyy-mm-dd format, precision may vary)
- `name`: Song name

## Project Structure

```
FeatureBeats/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ featurebeats/
â”‚       â”œâ”€â”€ models/          # Data models and schemas
â”‚       â”‚   â””â”€â”€ spotify_track.py
â”‚       â”œâ”€â”€ utils/           # Utility functions
â”‚       â”‚   â”œâ”€â”€ config.py    # Configuration management
â”‚       â”‚   â”œâ”€â”€ data_loader.py  # Data loading and processing
â”‚       â”‚   â””â”€â”€ visualization.py  # Plotting utilities
â”‚       â””â”€â”€ analysis/        # Analysis scripts
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                 # Original dataset (not tracked)
â”‚   â”œâ”€â”€ processed/           # Cleaned/processed data
â”‚   â””â”€â”€ external/            # Additional datasets
â”œâ”€â”€ notebooks/               # Jupyter notebooks for EDA
â”œâ”€â”€ tests/                   # Unit tests
â”œâ”€â”€ docs/                    # Documentation
â”œâ”€â”€ config.yaml              # Project configuration
â”œâ”€â”€ requirements.txt         # Python dependencies
â””â”€â”€ README.md               # This file
```

## Installation

### Prerequisites

- Python 3.8+
- pip or conda

### Setup

1. Clone the repository:
```bash
git clone https://github.com/jairajsaraf/FeatureBeats.git
cd FeatureBeats
```

2. Create a virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Set up environment variables:
```bash
cp .env.example .env
# Edit .env with your Kaggle credentials
```

5. Download the dataset:

**Option 1: Manual download**
- Visit https://www.kaggle.com/datasets/ektanegi/spotifydata-19212020
- Download `data.csv`
- Place it in `data/raw/data.csv`

**Option 2: Using Kaggle API**
```bash
# Configure Kaggle API credentials first
kaggle datasets download -d ektanegi/spotifydata-19212020
unzip spotifydata-19212020.zip -d data/raw/
```

## Quick Start

### Load and Explore Data

```python
from featurebeats.utils.data_loader import quick_load, SpotifyDataLoader

# Quick load with cleaning
df = quick_load()

# Or use the full loader for more control
loader = SpotifyDataLoader()
df = loader.load_csv()
df_clean = loader.clean_data()

# Get statistics
stats = loader.get_statistics()
print(f"Total tracks: {stats.total_tracks}")
print(f"Unique artists: {stats.unique_artists}")
print(f"Year range: {stats.year_range}")
```

### Visualize Data

```python
from featurebeats.utils.visualization import (
    plot_feature_distributions,
    plot_temporal_trends,
    plot_correlation_matrix
)

# Plot feature distributions
fig = plot_feature_distributions(df)
fig.savefig('feature_distributions.png')

# Plot how music has evolved
fig = plot_temporal_trends(df, feature='energy', group_by='decade')
fig.savefig('energy_trends.png')

# Correlation analysis
fig = plot_correlation_matrix(df)
fig.savefig('correlations.png')
```

### Data Validation

```python
from featurebeats.models.spotify_track import SpotifyTrack

# Validate individual track
track_data = df.iloc[0].to_dict()
track = SpotifyTrack(**track_data)

print(f"Track: {track.name}")
print(f"Artists: {track.get_artists_list()}")
print(f"Musical key: {track.get_musical_key_name()} {track.get_mode_name()}")
print(f"Duration: {track.get_duration_minutes():.2f} minutes")
print(f"Era: {track.era}")
```

## Configuration

Edit `config.yaml` to customize:
- Data paths
- Training parameters
- Feature selection
- Visualization settings
- Logging levels

## Development

### Running Tests

```bash
pytest tests/
```

### Code Quality

```bash
# Format code
black src/

# Lint code
ruff src/

# Type checking
mypy src/
```

## Use Cases

This dataset is perfect for:

1. **Music Trend Analysis**: Study how music characteristics have evolved over the past century
2. **Popularity Prediction**: Build ML models to predict song popularity
3. **Genre Classification**: Classify songs based on audio features
4. **Recommendation Systems**: Create personalized music recommendations
5. **Era Detection**: Predict the decade/era of a song from its features
6. **Artist Analysis**: Compare artists' musical styles and evolution
7. **Feature Engineering**: Discover relationships between audio features

## Example Analysis Questions

- How has music tempo changed from the 1920s to 2020?
- What audio features correlate most with popularity?
- Can we predict if a song will be popular based on its features?
- How do different musical eras cluster based on audio characteristics?
- What makes a song danceable according to Spotify's metrics?

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Dataset Citation

Dataset source: [Spotify Dataset 1921-2020](https://www.kaggle.com/datasets/ektanegi/spotifydata-19212020) by Ekta Negi on Kaggle.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Acknowledgments

- Spotify for their comprehensive API and data
- Kaggle community for making the dataset available
- All contributors to this project

## Contact

**Jairaj Saraf**
- GitHub: [@jairajsaraf](https://github.com/jairajsaraf)

---

**Happy Analyzing! ðŸŽµ**
